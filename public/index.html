<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            height: 100%;
            background: linear-gradient(336deg, rgba(62, 57, 115, 0.8), rgba(62, 57, 115, 0) 60%),
            linear-gradient(217deg, rgba(234, 171, 99, 1), rgba(234, 171, 99, 0) 70%),
            linear-gradient(312deg, rgba(76, 140, 215, 0), rgba(76, 140, 215, 0.5) 80%),
            linear-gradient(396deg, rgba(62, 57, 115, 0.8), rgba(62, 57, 115, 0) 55%);
            background-size: cover;
            overflow: hidden;
        }

        canvas[data-paper-resize] {
            width: 100%;
            height: 100%;
        }

    </style>
    <script src="https://unpkg.com/lodash"></script>
    <script src="https://unpkg.com/paper"></script>

</head>
<body>

<script>
    window.onload = () => {

        const menu = new MarkingTS.Menu('body', {
            main: {
                animationDuration: 200,
                enableMaxClickRadius: false
            },
            geometry: {
                useActionShape: true   ,
                stroke: {
                    enabled: true,
                    color: '#ccf',
                },
                icon: {
                    color: '#ccf',
                },
                color: 'rgba(0,0,0,0.5)',
                selectionColor: 'rgba(50,50,50,0.5)',

                text: {
                    color: '#ccf',
                }
            },
            arc: {
                color: [
                    'rgba(204,204,255,0.5)',
                    'rgba(204,204,255,0)',
                ]
            }
        });

        const struct = {
            id: 'Root',
            text: 'Hauptmenü',
            direction: 0,
            icon: 'bars',
            children: [
                {
                    id: 'atmosphere',
                    text: 'Atmospähre',
                    icon: 'wind',
                    direction: 0,
                    type: 'ribbonslider',
                    //type: 'checkbox',
                    data: {

                        min: 0.5,
                        max: 5,
                        initial: 0.5,
                        precision: .1,
                        stepDist: 200,
                        stepSize: 0.33,
                    }
                },
                {
                    id: 'tools',
                    text: 'Werkzeuge',
                    icon: 'tools',
                    direction: 45,
                    type: 'radio-group',
                    //type: 'crankslider',
                    children: [
                        {
                            id: 't1',
                            text: 'Word',
                            icon: 'file-word',
                            direction: 0
                        },
                        {
                            id: 't2',
                            text: 'Excel',
                            icon: 'file-excel',
                            direction: 90,
                            data: {
                                selected: true
                            }
                        },
                        {
                            id: 't3',
                            text: 'PowerPoint',
                            icon: 'file-powerpoint',
                            direction: 180
                        },
                        {
                            id: 't4',
                            text: 'Access',
                            icon: 'file-csv',
                            direction: 270
                        }
                    ]
                },
                {
                    id: 'project',
                    text: 'Projekt',
                    icon: 'project-diagram',
                    direction: 90,
                    type: 'checkbox',

                },
                {
                    id: 'water-level',
                    text: 'Water Level',
                    icon: 'water',

                    type: 'ribbonslider',
                    data: {

                        min: -2,
                        max: 2,
                        initial: 0,
                        stepSize: 0.5,
                        precision: 0.01,
                        stepDist: 100,
                    },
                    direction: 134,
                    children: [
                        {
                            id: 'documents-folder',
                            text: 'Öffnen',
                            icon: 'folder-open',
                            direction: 60,
                            type: 'checkbox',

                        },
                        {
                            id: 'book-dead',
                            text: 'Nicht öffnen',
                            icon: 'book-dead',
                            direction: 225,
                            type: 'checkbox',
                        }
                    ]
                },
                {
                    id: 'help',
                    text: 'Hilfe',
                    icon: 'question',
                    direction: 180,
                    type: 'checkbox',

                },
                {
                    id: 'search',
                    text: 'Suche',
                    icon: 'search',
                    direction: 225,
                    children: [
                        {
                            id: 's1',
                            text: 'Neue Suche',
                            icon: 'search-plus',
                            direction: 90
                        },
                        {
                            id: 's2',
                            text: 'Suche löschen',
                            icon: 'search-minus',
                            direction: 180
                        },
                        {
                            id: 's3',
                            text: 'Ort suchen',
                            icon: 'search-location',
                            direction: 315
                        }
                    ]
                },
                {
                    id: 'view',
                    text: 'Ansicht',
                    icon: 'eye',
                    direction: 270,

                },
                {
                    id: 'edit',
                    text: 'Bearbeiten',
                    icon: 'edit',
                    direction: 315,

                }
            ]
        };

        menu.init();
        //menu.drawTrace();
        menu.setStructure(MarkingTS.MenuParser.parse(struct));
        console.log(menu._rootItem.childCount);
        menu.selection$.subscribe(s => {
            if (s.type === 'itemSelection') {
            }
            console.log(s.source.itemId, s.data);
        });

        window.menu = menu;
    };

</script>
</body>
</html>
